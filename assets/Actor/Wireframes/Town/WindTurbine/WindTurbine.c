/*
 * VUEngine Showcase
 *
 * © Jorge Eremiev <jorgech3@gmail.com> and Christian Radke <c.radke@posteo.de>
 * © 3D meshes by Julian Leucht (JnL) <j.leucht@gmx.net>
 *
 * For the full copyright and license information, please view the LICENSE file
 * that was distributed with this source code.
 */

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
// INCLUDES
//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

#include <Actor.h>
#include <Ball.h>
#include <Mesh.h>

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
// DEFINITIONS
//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

const PixelVector WindTurbineMeshesSegments[][2]=
{
	// untere Hälfte, von Durchmesser 40 (also r=20) auf Durchmesser 28 (also r=14), alle 30°, bis Höhe -144
	{
		{20, 0, 0, 0}, 
		{14, -144, 0, 0}
	},
	{
		{17.32, 0, -10, 0}, 
		{12.12, -144, -7, 0}
	},
	{
		{10, 0, -17.32, 0}, 
		{7, -144, -12.12, 0}
	},
	{
		{0, 0, -20, 0}, 
		{0, -144, -14, 0}
	},

	{
		{-20, 0, 0, 0}, 
		{-14, -144, 0, 0}
	},
	{
		{-17.32, 0, -10, 0}, 
		{-12.12, -144, -7, 0}
	},
	{
		{-10, 0, -17.32, 0}, 
		{-7, -144, -12.12, 0}
	},

	{
		{-17.32, 0, 10, 0}, 
		{-12.12, -144, 7, 0}
	},
	{
		{-10, 0, 17.32, 0}, 
		{-7, -144, 12.12, 0}
	},
	{
		{0, 0, 20, 0}, 
		{0, -144, 14, 0}
	},

	{
		{17.32, 0, 10, 0}, 
		{12.12, -144, 7, 0}
	},
	{
		{10, 0, 17.32, 0}, 
		{7, -144, 12.12, 0}
	},

	// obere Hälfte, von Durchmesser 28 (also r=14) auf Durchmesser 16 (also r=8), alle 30°, bis Höhe -288
	{
		{14, -144, 0, 0}, 
		{8, -288-8, 0, 0}
	},
	{
		{12.12, -144, -7, 0}, 
		{6.93, -288-4, -4, 0}
	},
	{
		{7, -144, -12.12, 0}, 
		{4, -288-1.07, -6.93, 0}
	},
	{
		{0, -144, -14, 0}, 
		{0, -288-0, -8, 0}
	},

	{
		{-14, -144, 0, 0}, 
		{-8, -288-8, 0, 0}
	},
	{
		{-12.12, -144, -7, 0}, 
		{-6.93, -288-4, -4, 0}
	},
	{
		{-7, -144, -12.12, 0}, 
		{-4, -288-1.07, -6.93, 0}
	},

	{
		{-12.12, -144, 7, 0}, 
		{-6.93, -288-4, 4, 0}
	},
	{
		{-7, -144, 12.12, 0}, 
		{-4, -288-1.07, 6.93, 0}
	},
	{
		{0, -144, 14, 0}, 
		{0, -288-0, 8, 0}
	},

	{
		{12.12, -144, 7, 0}, 
		{6.93, -288-4, 4, 0}
	},
	{
		{7, -144, 12.12, 0}, 
		{4, -288-1.07, 6.93, 0}
	},
	
	// Turbine, Durchmesser 16 (also r=8), Zentrum bei z=-16 und x=0 und y=-296
	{
		{8, 0-296, -16, 0}, 
		{6.93, -4-296, -16, 0}
	},
	{
		{6.93, -4-296, -16, 0}, 
		{4, -6.93-296, -16, 0}
	},
	{
		{4, -6.93-296, -16, 0}, 
		{0, -8-296, -16, 0}
	},

	{
		{-8, 0-296, -16, 0}, 
		{-6.93, -4-296, -16, 0}
	},
	{
		{-6.93, -4-296, -16, 0}, 
		{-4, -6.93-296, -16, 0}
	},
	{
		{-4, -6.93-296, -16, 0}, 
		{0, -8-296, -16, 0}
	},

	{
		{-8, 0-296, -16, 0}, 
		{-6.93, 4-296, -16, 0}
	},
	{
		{-6.93, 4-296, -16, 0}, 
		{-4, 6.93-296, -16, 0}
	},
	{
		{-4, 6.93-296, -16, 0}, 
		{0, 8-296, -16, 0}
	},

	{
		{8, 0-296, -16, 0}, 
		{6.93, 4-296, -16, 0}
	},
	{
		{6.93, 4-296, -16, 0}, 
		{4, 6.93-296, -16, 0}
	},
	{
		{4, 6.93-296, -16, 0}, 
		{0, 8-296, -16, 0}
	},

	// Turbine, Durchmesser 16 (also r=8), Zentrum bei z=+8 und x=0 und y=-296
	{
		{8, 0-296, 8, 0}, 
		{6.93, -4-296, 8, 0}
	},
	{
		{6.93, -4-296, 8, 0}, 
		{4, -6.93-296, 8, 0}
	},
	{
		{4, -6.93-296, 8, 0}, 
		{0, -8-296, 8, 0}
	},

	{
		{-8, 0-296, 8, 0}, 
		{-6.93, -4-296, 8, 0}
	},
	{
		{-6.93, -4-296, 8, 0}, 
		{-4, -6.93-296, 8, 0}
	},
	{
		{-4, -6.93-296, 8, 0}, 
		{0, -8-296, 8, 0}
	},

	{
		{-8, 0-296, 8, 0}, 
		{-6.93, 4-296, 8, 0}
	},
	{
		{-6.93, 4-296, 8, 0}, 
		{-4, 6.93-296, 8, 0}
	},
	{
		{-4, 6.93-296, 8, 0}, 
		{0, 8-296, 8, 0}
	},

	{
		{8, 0-296, 8, 0}, 
		{6.93, 4-296, 8, 0}
	},
	{
		{6.93, 4-296, 8, 0}, 
		{4, 6.93-296, 8, 0}
	},
	{
		{4, 6.93-296, 8, 0}, 
		{0, 8-296, 8, 0}
	},

	// Verbindungen der Turbinen-Oktaeder von z=-16 bis z=8
	{
		{0, -8-296, 8, 0}, 
		{0, -8-296, -16, 0}
	},
	{
		{6.93, -4-296, 8, 0}, 
		{6.93, -4-296, -16, 0}
	},
	{
		{4, -6.93-296, 8, 0}, 
		{4, -6.93-296, -16, 0}
	},
	{
		{8, 0-296, 8, 0}, 
		{8, 0-296, -16, 0}
	},

	{
		{-6.93, -4-296, 8, 0}, 
		{-6.93, -4-296, -16, 0}
	},
	{
		{-4, -6.93-296, 8, 0}, 
		{-4, -6.93-296, -16, 0}
	},
	{
		{-8, 0-296, 8, 0}, 
		{-8, 0-296, -16, 0}
	},

	{
		{-4, 6.93-296, 8, 0}, 
		{-4, 6.93-296, -16, 0}
	},
	{
		{4, 6.93-296, 8, 0}, 
		{4, 6.93-296, -16, 0}
	},

	{
		{6.93, 4-296, 8, 0}, 
		{6.93, 4-296, -16, 0}
	},

	{
		{-6.93, 4-296, 8, 0}, 
		{-6.93, 4-296, -16, 0}
	},

	{
		{0, 8-296, 8, 0}, 
		{0, 8-296, -16, 0}
	},

	// schräges Ende
	{
		{0, -304, 8, 0}, 
		{0, -296, 20, 0}
	},
	{
		{-4, -302.93, 8, 0}, 
		{0, -296, 20, 0}
	},
	{
		{-6.93, -300, 8, 0}, 
		{0, -296, 20, 0}
	},
	{
		{-8, -296, 8, 0}, 
		{0, -296, 20, 0}
	},
	{
		{-6.93, -292, 8, 0}, 
		{0, -296, 20, 0}
	},
	{
		{-4, -289.07, 8, 0}, 
		{0, -296, 20, 0}
	},
	{
		{0, -288, 8, 0}, 
		{0, -296, 20, 0}
	},
	{
		{4, -289.07, 8, 0}, 
		{0, -296, 20, 0}
	},
	{
		{6.93, -292, 8, 0}, 
		{0, -296, 20, 0}
	},
	{
		{8, -296, 8, 0}, 
		{0, -296, 20, 0}
	},
	{
		{6.93, -300, 8, 0}, 
		{0, -296, 20, 0}
	},
	{
		{4, -302.93, 8, 0}, 
		{0, -296, 20, 0}
	},

	// Flügel 0°, 144 lang, Zentrum ist 0,-296,-16
	// untere Kante
	{
		{6.93, -292, -16, 0}, 
		{144, -296, -16, 0}
	},

	// obere Kante
	{
		{6.93, -300, -16, 0}, 
		{40, -304, -16, 0}
	},
	{
		{40, -304, -16, 0}, 
		{144, -296, -16, 0}
	},

	// Schräge nach hinten
	{
		{8, -296, -16, 0}, 
		{40, -296, -8, 0}
	},
	{
		{40, -296, -8, 0}, 
		{144, -296, -16, 0}
	},

	// Flügel 120°
	// untere Kante
	{
		{0, -304, -16, 0}, 
		{-72, -420.7, -16, 0}
	},

	// obere Kante
	{
		{-6.93, -300, -16, 0}, 
		{-26.93, -326.4, -16, 0}
	},
	{
		{-26.93, -326.4, -16, 0}, 
		{-72, -420.7, -16, 0}
	},

	// Schräge nach hinten
	{
		{-4, -302.93, -16, 0}, 
		{-20, -330.4, -8, 0}
	},
	{
		{-20, -330.4, -8, 0}, 
		{-72, -420.7, -16, 0}
	},

	// Flügel 240°
	// untere Kante
	{
		{-6.93, -292, -16, 0}, 
		{-72, -171.3, -16, 0}
	},

	// obere Kante
	{
		{0, -288, -16, 0}, 
		{-13.07, -257.36, -16, 0}
	},
	{
		{-13.07, -257.36, -16, 0}, 
		{-72, -171.3, -16, 0}
	},

	// Schräge nach hinten
	{
		{-4, -289.07, -16, 0}, 
		{-20, -261.36, -8, 0}
	},
	{
		{-20, -261.36, -8, 0}, 
		{-72, -171.3, -16, 0}
	},

	// Limiter
	{
		{0, 0, 0, 0}, 
		{0, 0, 0, 0}
	},
};

ComponentSpec* const WindTurbineWireframeComponentSpecs[] = 
{
	NULL
};

MeshROMSpec WindTurbineWireframeSpec =
{
	{
		{
			// Component
			{
				// Allocator
				__TYPE(Mesh),

				// Component type
				kWireframeComponent
			},

			NULL
		},

		// Displacement relative to the owner's spatial position
		{0, 0, 0},
		
		// Wireframe's lines' color
		__COLOR_BLACK,

		// Transparent
		__TRANSPARENCY_NONE,

		// Flag to render the wireframe in interlaced mode
		false
	},

	// Segments that compose the mesh
	(PixelVector(*)[2])WindTurbineMeshesSegments
};

ComponentSpec* const WindTurbineActorComponentSpecs[] = 
{
	(ComponentSpec*)&WindTurbineWireframeSpec,
	NULL
};

ActorROMSpec WindTurbineActorSpec =
{
	// Class allocator
	__TYPE(Actor),

	// Component specs
	(ComponentSpec**)WindTurbineActorComponentSpecs,

	// Children specs
	NULL,

	// Extra info
	NULL,

	// Size
	// If 0, it is computed from the visual components if any
	{0, 0, 0},

	// Actor's in-game type
	kTypeNone,

	// Animation to play automatically
	NULL
};
